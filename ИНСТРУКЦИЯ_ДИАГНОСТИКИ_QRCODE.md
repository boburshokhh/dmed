# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é qrcode-styled –Ω–∞ Ubuntu

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –Ω–∞ Ubuntu —Å–µ—Ä–≤–µ—Ä

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `diagnose_qrcode_styled.py` –Ω–∞ –≤–∞—à Ubuntu —Å–µ—Ä–≤–µ—Ä (—á–µ—Ä–µ–∑ scp, git, –∏–ª–∏ –≤—Ä—É—á–Ω—É—é).

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É

–ù–∞ Ubuntu —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /path/to/your/project

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
source venv/bin/activate

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É
python3 diagnose_qrcode_styled.py > qrcode_diagnose_output.txt 2>&1
```

### –®–∞–≥ 3: –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `qrcode_diagnose_output.txt` –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ **–≤–µ—Å—å –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º—ã–π** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.

---

## üîç –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã **–ø–æ –ø–æ—Ä—è–¥–∫—É** –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
source venv/bin/activate  # –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ venv
pip3 list | grep -i qrcode
pip3 list | grep -i pillow

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–ø–æ—Ä—Ç–∞
python3 -c "import qrcode_styled; print('OK')" 2>&1

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π
python3 -c "
import qrcode_styled
from PIL import Image
print('qrcode-styled –≤–µ—Ä—Å–∏—è:', getattr(qrcode_styled, '__version__', 'unknown'))
print('Pillow –≤–µ—Ä—Å–∏—è:', Image.__version__)
" 2>&1

# 4. –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è QR-–∫–æ–¥–∞
python3 -c "
from qrcode_styled import QRCodeStyled
from PIL import Image
qr = QRCodeStyled()
img = qr.get_image('test')
print('–¢–∏–ø:', type(img))
print('PIL Image:', isinstance(img, Image.Image))
if isinstance(img, Image.Image):
    print('–†–∞–∑–º–µ—Ä:', img.size)
    print('–†–µ–∂–∏–º:', img.mode)
" 2>&1

# 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
sudo journalctl -u dmed -n 100 | grep -i qr 2>&1
```

---

## üõ†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –±—ã—Å—Ç—Ä—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: qrcode-styled –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
```bash
source venv/bin/activate
pip3 install qrcode-styled>=0.2.0
pip3 install --upgrade Pillow>=10.0.0
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ö–æ–Ω—Ñ–ª–∏–∫—Ç –≤–µ—Ä—Å–∏–π
```bash
source venv/bin/activate
pip3 uninstall qrcode-styled
pip3 install qrcode-styled>=0.2.0
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
sudo apt-get update
sudo apt-get install -y python3-dev python3-pip libjpeg-dev zlib1g-dev
```

---

## üìù –ß—Ç–æ —è —Å–¥–µ–ª–∞–ª –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è

1. ‚úÖ –°–æ–∑–¥–∞–ª —Å–∫—Ä–∏–ø—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ (`diagnose_qrcode_styled.py`)
2. ‚úÖ –£–ª—É—á—à–∏–ª —Ñ—É–Ω–∫—Ü–∏—é `generate_qr_code()` –¥–ª—è –ª—É—á—à–µ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
3. ‚úÖ –î–æ–±–∞–≤–∏–ª –æ–±—Ä–∞–±–æ—Ç–∫—É —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏–π API qrcode-styled
4. ‚úÖ –î–æ–±–∞–≤–∏–ª –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

---

## üéØ –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–Ø –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É—é –≤—ã–≤–æ–¥ –∏:
- –û–ø—Ä–µ–¥–µ–ª—é —Ç–æ—á–Ω—É—é –ø—Ä–∏—á–∏–Ω—É –ø—Ä–æ–±–ª–µ–º—ã
- –ü—Ä–µ–¥–ª–æ–∂—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
- –û–±–Ω–æ–≤–ª—é –∫–æ–¥ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –î–∞–º —Ç–æ—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

–û—Ç–ø—Ä–∞–≤—å—Ç–µ **–≤–µ—Å—å –≤—ã–≤–æ–¥** –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏, –≤–∫–ª—é—á–∞—è:
- –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –í–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤
- –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å)

–ß–µ–º –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —Ç–µ–º –±—ã—Å—Ç—Ä–µ–µ –Ω–∞–π–¥–µ–º –∏ –∏—Å–ø—Ä–∞–≤–∏–º –ø—Ä–æ–±–ª–µ–º—É!

